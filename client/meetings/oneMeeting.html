<template name="oneMeeting">
  <div class="oneMeeting">
    {{#with meeting}}
      <h3>{{title}}</h3>
      <p>by {{author}}</p>
      <img class="authorImg" src="http://graph.facebook.com/{{fbId}}/picture/?type=large" alt="Profile Image" />
      <p>Place: {{place}}</p>
      <p>Date: {{date}}</p>

      <hr>

      <p>{{message}}</p>

      <hr>

      {{#if meetingOwner}}
        {{#if booked}}

          <p>BOOKED with</p>
          <img class="authorImg" src="http://graph.facebook.com/{{bookedFBUser}}/picture/?type=large" alt="profile image" />

          {{#if cancelMeeting}}
            <button class="btn btn-lg btn-danger cancel-meeting">Cancel</button>
          {{/if}}

        {{else}}

          <ul>
            <h3>Requested Users</h3>
            {{#if requestUsers}}

              {{#each requestUsers}}
                <li>
                  <img class="authorImg" src="http://graph.facebook.com/{{this.userFBID}}/picture/?type=large" alt="profile image" />
                  {{this.userName}}
                  <button class="accept-request btn btn-lg btn-success" id="{{this.userFBID}}">Accept</button>
                </li>
              {{/each}}

            {{else}}
              <h3>None</h3>
            {{/if}}
          </ul>

        {{/if}}
        <hr>
        <button class="delete-meeting btn btn-lg btn-danger">Delete Meeting</button>
      {{else}}
        <button class="request btn btn-lg {{requestBtn}}">{{requestText}}</button>
      {{/if}}

    {{/with}}
    <br><br>
  </div>
</template>
